!function(){let idleMonster,dungeonTileSet2=new Image,loaderContext,loaderCanvas,loaderBackgroundCanvas,loaderBackgroundCanvasContext;dungeonTileSet2.src="assets/tiles/0x72_DungeonTilesetII_v1.3.1/0x72_DungeonTilesetII_v1.3.png";let runLoader=!0;function drawBackgroundOnImagesLoad(backgroundCanvasContext,floorImage,i,j){backgroundCanvasContext.drawImage(floorImage,0,0,16,16,16*j,16*i,16,16)}function mainCharIdleLoop(){mainCharIdleUpdate(),mainCharIdleDraw(),requestAnimationFrame(mainCharIdleLoop)}function mainCharIdleUpdate(){mainCharacter.update()}function mainCharIdleDraw(){mainCanvasContext.clearRect(0,0,mainCanvas.width,mainCanvas.height),mainCharacter.draw(mainCanvasContext)}window.onload=function(){let floorImages=[],floor_1_img=new Image;floor_1_img.src="assets/tiles/floor_1.png",floorImages.push(floor_1_img);var floor_2_img=new Image;floor_2_img.src="assets/tiles/floor_2.png",floorImages.push(floor_2_img);var floor_3_img=new Image;floor_3_img.src="assets/tiles/floor_3.png",floorImages.push(floor_3_img);var floor_4_img=new Image;floor_4_img.src="assets/tiles/floor_4.png",floorImages.push(floor_4_img);var floor_5_img=new Image;floor_5_img.src="assets/tiles/floor_5.png",floorImages.push(floor_5_img);var floor_6_img=new Image;floor_6_img.src="assets/tiles/floor_6.png",floorImages.push(floor_6_img);var floor_7_img=new Image;floor_7_img.src="assets/tiles/floor_7.png",floorImages.push(floor_7_img);var floor_8_img=new Image;floor_8_img.src="assets/tiles/floor_8.png",floorImages.push(floor_8_img),loaderBackgroundCanvas=document.querySelector(".loaderBackgroundCanvas"),loaderBackgroundCanvasContext=loaderBackgroundCanvas.getContext("2d"),loaderBackgroundCanvas.width=window.innerWidth,loaderBackgroundCanvas.height=window.innerHeight,floor_1_img.onload=function(){let pattern=loaderBackgroundCanvasContext.createPattern(floor_1_img,"repeat");loaderBackgroundCanvasContext.fillStyle=pattern,loaderBackgroundCanvasContext.fillRect(0,0,loaderBackgroundCanvas.width,loaderBackgroundCanvas.height)},loaderCanvas=document.querySelector(".loader"),loaderContext=loaderCanvas.getContext("2d"),loaderCanvas.width=window.innerWidth,loaderCanvas.height=window.innerHeight,backgroundCanvas=document.querySelector("#tilemapBackground"),backgroundCanvasContext=backgroundCanvas.getContext("2d"),backgroundCanvas.width=window.innerWidth,backgroundCanvas.height=window.innerHeight,mainCanvas=document.querySelector("#tilemapMainGame"),mainCanvasContext=mainCanvas.getContext("2d"),mainCanvas.width=window.innerWidth,mainCanvas.height=window.innerHeight;let columns=Math.ceil(window.innerWidth/16),rows=Math.ceil(window.innerHeight/16),tilemapMatrix=[];floorImages[floorImages.length-1].onload=function(){for(i=0;i<rows;i++)for(tilemapMatrix[i]=[],j=0;j<columns;j++){let randomNum=Math.random();if(randomNum<=.9&&randomNum>=0)tilemapMatrix[i].push(floorImages[0]),drawBackgroundOnImagesLoad(backgroundCanvasContext,floorImages[0],i,j);else{let randomTile=Math.floor(Math.random()*Math.floor(6)+1);tilemapMatrix[i].push(floorImages[randomTile]),drawBackgroundOnImagesLoad(backgroundCanvasContext,floorImages[randomTile],i,j)}}},idleMonster=new GameObject(dungeonTileSet2,16,364,128,36,90,4),mainCharacter=new GameObject(dungeonTileSet2,128,100,64,28,90,4,Math.ceil(columns/2*16),Math.ceil(rows/16*16)),animateLoadWriting(),loaderLoop(),document.querySelector(".swordBurgerMenu").addEventListener("click",(function(){this.classList.toggle("open"),document.querySelector(".navigation").classList.toggle("open"),document.querySelector(".settings").classList.remove("open"),document.querySelector(".gearSettings").classList.remove("open")})),document.querySelector(".gearSettings").addEventListener("click",(function(){this.classList.toggle("open"),document.querySelector(".settings").classList.toggle("open"),document.querySelector(".navigation").classList.remove("open"),document.querySelector(".swordBurgerMenu").classList.remove("open")}))};let counter=0;function animateLoadWriting(){let loadingWriting=document.querySelector(".loadWriting"),loaderWritingLetters=document.getElementsByClassName("letter"),loaderWritingChildCount=loadingWriting.childElementCount;setTimeout((function(){loaderWritingLetters[counter].classList.add("fadeInZoom"),counter++,counter<loaderWritingChildCount?animateLoadWriting():setTimeout((function(){loadingWriting.classList.add("fadeOut")}),1200)}),2500/(loaderWritingChildCount+6))}function loaderLoop(){updateLoader(),drawLoader(),setTimeout((function(){runLoader=!1}),2500),!0===runLoader?requestAnimationFrame(loaderLoop):(loaderCanvas.classList.add("fadeOut"),loaderBackgroundCanvas.classList.add("fadeOut"),mainCharIdleLoop())}function updateLoader(){idleMonster.update()}function drawLoader(){loaderContext.clearRect(0,0,loaderCanvas.width,loaderCanvas.height),idleMonster.draw(loaderContext)}function GameObject(spritesheet,x,y,width,height,timePerFrame,numberOfFrames,canvasCoordinateX=0,canvasCoordinateY=0){this.spritesheet=spritesheet,this.x=x,this.y=y,this.width=width,this.height=height,this.timePerFrame=timePerFrame,this.numberOfFrames=numberOfFrames||1,0===canvasCoordinateX&&(canvasCoordinateX=Math.round(loaderCanvas.width/2-this.width/this.numberOfFrames)),0===canvasCoordinateY&&(canvasCoordinateY=Math.round(loaderCanvas.height/2-this.height)),this.frameIndex=0,this.lastUpdate=Date.now(),this.update=function(){Date.now()-this.lastUpdate>=this.timePerFrame&&(this.frameIndex++,this.frameIndex>=this.numberOfFrames&&(this.frameIndex=0),this.lastUpdate=Date.now())},this.draw=function(context){context.drawImage(this.spritesheet,this.frameIndex*this.width/this.numberOfFrames+x,y,this.width/this.numberOfFrames,this.height,canvasCoordinateX,canvasCoordinateY,this.width/this.numberOfFrames,this.height)}}}();